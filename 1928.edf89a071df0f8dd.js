"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1928],{1928:(L,d,l)=>{l.r(d),l.d(d,{ShoppingPageModule:()=>y});var g=l(177),h=l(4341),o=l(7863),c=l(70),m=l(467),u=l(7376),e=l(4438),f=l(342);function S(n,s){if(1&n){const p=e.RV6();e.j41(0,"ion-item")(1,"ion-checkbox",10),e.mxI("ngModelChange",function(i){const r=e.eBV(p).index,a=e.XpG(2);return e.DH7(a.selectedItems[r],i)||(a.selectedItems[r]=i),e.Njj(i)}),e.k0s(),e.j41(2,"ion-label"),e.EFF(3),e.k0s()()}if(2&n){const p=s.$implicit,t=s.index,i=e.XpG(2);e.R7$(),e.R50("ngModel",i.selectedItems[t]),e.R7$(2),e.JRh(p.name)}}function I(n,s){if(1&n&&(e.j41(0,"ion-list"),e.DNE(1,S,4,2,"ion-item",9),e.k0s()),2&n){const p=e.XpG();e.R7$(),e.Y8G("ngForOf",p.shoppingList)}}function v(n,s){1&n&&(e.j41(0,"div")(1,"p"),e.EFF(2,"List is Empty."),e.k0s()())}const P=[{path:"",component:(()=>{var n;class s{constructor(t,i,r,a,b){this.shoppingService=t,this.mc=i,this.route=r,this.router=a,this.cdRef=b,this.selectedItems=[],this.modalOpened=!1}ngOnInit(){var t=this;console.log("init"),this.route.queryParams.subscribe(function(){var i=(0,m.A)(function*(r){t.shoppingList=t.shoppingService.getShoppingList(),t.selectedItems=[];for(let a of t.shoppingService.getShoppingList())t.selectedItems.push(!1);"true"===r.addItem&&(t.modalOpened=!0,yield t.addShoppingItem(),t.clearQueryParams())});return function(r){return i.apply(this,arguments)}}())}clearQueryParams(){this.router.navigate([],{relativeTo:this.route,queryParams:{addItem:null},queryParamsHandling:"merge"})}getShoppingList(){return this.shoppingService.getShoppingList()}addShoppingItem(){var t=this;return(0,m.A)(function*(){const i=yield t.mc.create({component:u.Y,componentProps:{type:"Shopping list"}});i.present(),yield i.onWillDismiss()})()}selectAll(){console.log(this.selectedItems);for(let t=0;t<this.selectedItems.length;t++)this.selectedItems[t]=!0}removeSelected(){this.shoppingList.forEach((t,i)=>{this.selectedItems[i]&&this.shoppingService.removeItem(t)}),this.shoppingList=this.shoppingList.filter((t,i)=>!this.selectedItems[i]),this.selectedItems=this.selectedItems.filter((t,i)=>!this.selectedItems[i])}renewSelected(){this.shoppingList.forEach((t,i)=>{this.selectedItems[i]&&(this.shoppingService.renewItem(t),this.shoppingList[i].renewExpiration())})}}return(n=s).\u0275fac=function(t){return new(t||n)(e.rXU(f._),e.rXU(o.W3),e.rXU(c.nX),e.rXU(c.Ix),e.rXU(e.gRc))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-shopping"]],decls:24,vars:4,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],[3,"click"],[4,"ngIf"],["horizontal","center","vertical","bottom","slot","fixed"],["id","pantryAddModal",3,"click"],["name","add"],[4,"ngFor","ngForOf"],["slot","start",3,"ngModelChange","ngModel"]],template:function(t,i){1&t&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Shopping List"),e.k0s()()(),e.j41(4,"ion-content",1)(5,"ion-header",2)(6,"ion-toolbar")(7,"ion-title",3),e.EFF(8,"Shopping List"),e.k0s()()(),e.j41(9,"ion-toolbar")(10,"ion-buttons")(11,"ion-button",4),e.bIt("click",function(){return i.selectAll()}),e.EFF(12,"Select All"),e.k0s(),e.j41(13,"ion-button",4),e.bIt("click",function(){return i.removeSelected()}),e.EFF(14,"Delete"),e.k0s(),e.j41(15,"ion-button"),e.EFF(16,"Renew"),e.k0s()()(),e.j41(17,"ion-card")(18,"ion-card-content"),e.DNE(19,I,2,1,"ion-list",5)(20,v,3,0,"div",5),e.k0s()(),e.j41(21,"ion-fab",6)(22,"ion-fab-button",7),e.bIt("click",function(){return i.addShoppingItem()}),e.nrm(23,"ion-icon",8),e.k0s()()()),2&t&&(e.Y8G("translucent",!0),e.R7$(4),e.Y8G("fullscreen",!0),e.R7$(15),e.Y8G("ngIf",i.shoppingList.length>0),e.R7$(),e.Y8G("ngIf",0==i.shoppingList.length))},dependencies:[g.Sq,g.bT,h.BC,h.vS,o.Jm,o.QW,o.b_,o.I9,o.eY,o.W9,o.Q8,o.YW,o.eU,o.iq,o.uz,o.he,o.nf,o.BC,o.ai,o.hB]}),s})()}];let _=(()=>{var n;class s{}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[c.iI.forChild(P),c.iI]}),s})();var F=l(8721);let y=(()=>{var n;class s{}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[g.MD,h.YN,o.bv,_,F.w]}),s})()}}]);